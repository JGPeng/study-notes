<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>节流函数</title>
  </head>
  <body>
    <div>
        <button id="submit" onclick="thro()">点击</button>
    </div>

    <script>
      /**
      * 当持续触发事件的时候 保证一段时间内 只调用一次事件处理函数
      * 一段时间内 只做一件事情
      * 实际应用：表单的提交
      * 典型的案例就是鼠标不断点击触发 规定在n秒内多次点击只有一次生效
      */
      function throttle(func, wait) {
          let timerOut;
          return function() {
              if(!timerOut) {
                  timerOut = setTimeout(function() {
                      func();
                      timerOut = null;
                  }, wait);
              }
          }
      }

      function handle() {
        setTimeout(function() {
          console.log(Math.random());
        }, 1500);
      }
      let thro = throttle(handle, 500);
    </script>
  </body>
</html>